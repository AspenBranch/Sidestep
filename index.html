<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Sidestep</title><style>:root{--background-color:#000000}#wrapper,body,html{overflow:hidden;width:100%;height:100%;margin:0;padding:0;width:calc(100% + 1px)}body{background-color:var(--background-color)}canvas{width:fit-content;height:fit-content}canvas:focus{outline:0}#wrapper{padding:0;margin:0;display:flex;justify-content:center;align-items:center;width:100%}</style></head><body id="wrapper"><canvas class="sketch"></canvas><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Khan/processing-js@master/processing.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Mushy-Avocado/KA-exporter@v1.0.1/exporter.js"></script><script type="application/javascript">function program(){title("Sidestep"),size(600,600),smooth(),textFont(createFont("Miriam Libre Bold"),100),548!==textWidth("pink orbits")&&textFont(createFont("trebuchet ms Bold"));var n=color(232,96,136);n=color(58,181,126);var r=color(16,47,56),t=!1,s=400,a=[],i=(get(),"menu"),d=!1,c=[],x=-100,l=0,p=!1,h={x:0,y:0,cx:300,cy:-100,speed:3,shake:0},m={x:285,y:420,vy:0,grav:.3,dead:0,pDead:0,coins:0,best:0},k=function(e,o,t){line(e,o-t/2,e,o+t/2)},y=function(e,o){var t=e/5;t<70&&-40<t&&(stroke(r),strokeWeight(1),pushMatrix(),translate(h.cx,h.cy),0===o?(beginShape(),vertex(400*sin(t),400*cos(t)),vertex(430*sin(1.5+t),430*cos(1.5+t)),vertex(400*sin(3+t),400*cos(3+t)),endShape(CLOSE),t<2.4&&-4.8<t&&m.y<325&&m.dead++):(beginShape(),vertex(550*sin(t),550*cos(t)),vertex(520*sin(1.5+t),520*cos(1.5+t)),vertex(550*sin(3+t),550*cos(3+t)),endShape(CLOSE),t<1.4&&-4.2<t&&395<m.y&&m.dead++),noStroke(),popMatrix())},f=function(e,o){var t=e/5;t<70&&-40<t&&(strokeWeight(4),pushMatrix(),translate(h.cx,h.cy),noStroke(),0===o?(ellipse(415*sin(t),415*cos(t),20,20),stroke(n),line(410*sin(t),410*cos(t),420*sin(t),420*cos(t)),noStroke(),t<3.4&&-3.4<t&&m.y<325&&(d=!0)):(ellipse(535*sin(t),535*cos(t),20,20),stroke(n),line(530*sin(t),530*cos(t),540*sin(t),540*cos(t)),noStroke(),t<2.8&&-2.8<t&&395<m.y&&(d=!0)),popMatrix())},u=function(){if(s<600-h.x){for(var e=floor(random(random(2))),o=random(1,8),t=round(random()),n=random(5),r=0;r<o;r++)a.push([s,e,t]),0===e&&n<1&&a.push([s,1,1-t]),s+=15;s+=30+15*h.speed}},g=function(e){var o=(h.x+e[0])/5;e[0]+=e[4],e[1]+=e[5],e[3]+=5,e[2]-=.3,beginShape();for(var t=0;t<360;t+=90)vertex(h.cx+sin(o)*(e[1]-h.cy)+sin(t+o+e[3])*e[2],h.cy+cos(o)*(e[1]-h.cy)+cos(t+o+e[3])*e[2]);endShape()};mousePressed=function(){p=!0},draw=function(){scale(min(width,height)/600),"game"===i&&function(){background(r),fill(n),textSize(80+l),textAlign(3,3),text(m.coins,300,x+225),pushMatrix(),translate(h.cx,h.cy),rotate(18),translate(-h.cx+random(-h.shake,h.shake),-h.cy+random(-h.shake,h.shake)),noStroke(),h.shake+=-h.shake/5,u(),stroke(n),noFill(),strokeWeight(150),ellipse(300,-100,950,950),fill(r);for(var e=a.length-1;0<=e;e--){if(0===a[e][1])y(a[e][0]+h.x,a[e][2]);else if(1===a[e][1]&&(f(a[e][0]+h.x,a[e][2]),d)){m.coins+=2,d=!1,a.splice(e,1),h.shake+=3,l=20;for(var o=0;o<10;o++)c.push([-h.x,m.y+30,random(10,20),random(0,90),random(-3,7),random(-3,3)])}h.x+160<-a[e][0]&&a.splice(e,1)}noStroke();for(e=c.length-1;0<=e;e--)g(c[e]),(c[e][2]<=0||h.x+160<-c[e][0])&&c.splice(e,1);if(m.dead===m.pDead&&(m.dead=0,m.pDead=0),m.pDead=m.dead,fill(r),rect(m.x,m.y,30,30,3),stroke(n),strokeWeight(4),k(m.x+8,m.y+15,13),k(m.x+22,m.y+15,8),noStroke(),420<=m.y&&(m.y=420,m.vy=0,random()<.5&&c.push([-h.x,m.y+30,random(10,20),random(0,90),random(0,-2),random(-4,0)]),(t||p)&&(m.grav=-h.speed/5,m.vy=-h.speed,t=!1)),m.y<=300&&(m.y=300,m.vy=0,random()<.5&&c.push([-h.x,m.y,random(10,20),random(0,90),random(0,-2),random(0,4)]),(t||p)&&(m.grav=h.speed/5,m.vy=h.speed,t=!1)),m.vy+=m.grav,m.y=constrain(m.y+m.vy,300,420),h.speed+=.001,1<m.dead)for(get(),i="menu",h.shake=10,m.best=max(m.best,m.coins),o=0;o<50;o++)c.push([-h.x,m.y+30,random(10,20),random(0,90),random(-3,7),random(-3,3)]);else h.x-=h.speed;popMatrix(),x+=(-100-x)/20,l+=-l/20,p=!1}(),"menu"===i&&function(){background(r),fill(n),textSize(80),textAlign(3,3),0<m.coins&&text(m.coins,300,x+225),pushMatrix(),translate(h.cx,h.cy),rotate(18),translate(-h.cx+random(-h.shake,h.shake),-h.cy+random(-h.shake,h.shake)),noStroke(),h.shake+=-h.shake/10,u(),stroke(n),noFill(),strokeWeight(150),ellipse(300,-100,950,950),fill(r);for(var e=a.length-1;0<=e;e--)0===a[e][1]?y(a[e][0]+h.x,a[e][2]):1===a[e][1]&&f(a[e][0]+h.x,a[e][2]),noStroke();for(e=c.length-1;0<=e;e--)g(c[e]),(c[e][2]<=0||h.x+160<-c[e][0])&&c.splice(e,1);fill(r),rect(m.x,m.y,30,30,3),stroke(n),strokeWeight(4),k(m.x+8,m.y+15,13),k(m.x+22,m.y+15,8),noStroke(),popMatrix(),x+=(125-x)/10,l+=-l/20,(t||p)&&100<x&&(i="game",s=400,a=[],c=[],h.x=0,h.speed=3,m.dead=!1,m.coins=0,t=!1),p=!1}(),fill(n),textSize(80),textAlign(3,3),text("sidestep",300,x),textSize(30),text("click to play",300,645-x),m.best&&text("best: "+m.best,300,x+60),fill(r),c.push([random(-120,380)+-h.x,470,random(7,15),random(0,90),random(-1,1),random(-3,0)]),resetMatrix()},keyPressed=function(){t=!0},keyReleased=function(){t=!1}}runPJS(program)</script></body></html>
